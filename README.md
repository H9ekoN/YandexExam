# Калькулятор

Простой калькулятор.

## Возможности

- Базовые математические операции (+, -, *, /)
- Поддержка скобок для установки приоритета
- Обработка ошибок (деление на ноль, неправильные выражения)
- Защита от переполнения

## Установка

1. Убедитесь, что у вас установлен Go 1.16 или выше
2. Клонируйте репозиторий:
```bash
git clone https://github.com/H9ekoN/YandexExam_go.git
cd YandexExam_go
```

## Запуск

Запустить сервер можно одним из способов:

1. Напрямую через Go:
```bash
go run cmd/main.go
```

2. С указанием порта:
```bash
go run cmd/main.go -port :8080
```

3. Через переменную окружения:
```bash
PORT=:8080 go run cmd/main.go
```

## Использование

Сервис принимает POST-запросы на эндпоинт `/api/v1/calculate` с JSON-телом:

```bash
curl -X POST http://localhost:8080/api/v1/calculate \
  -H "Content-Type: application/json" \
  -d '{"expression": "2+2*2"}'
```

### Примеры запросов

1. Простое сложение:
```json
{"expression": "2+2"}
```

2. Выражение со скобками:
```json
{"expression": "(2+2)*2"}
```

### Ответы сервера

Успешный расчет:
```json
{
    "result": 4
}
```

Ошибка:
```json
{
    "error": "Expression is not valid"
}
```

## Обработка ошибок

Сервис возвращает следующие статус-коды:

- 200: Успешное вычисление
- 405: Неправильный метод запроса
- 422: Ошибка в выражении
- 500: Внутренняя ошибка сервера (переполнение)

## Тестирование

Запуск тестов:
```bash
go test ./...
```

## Завершение работы

Для завершения работы сервера можно использовать команду: Ctrl+C
